<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>What is GameSync Union?</title>
  <link rel="stylesheet" href="/styles/global.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto&display=swap" rel="stylesheet" />
  <style>
    body {
      background-color: #121212;
      color: #f0f0f0;
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 0;
    }
    .hidden {
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .reveal {
      opacity: 1;
      transform: translateY(0);
    }
    header {
      background-color: #1f1f1f;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      flex-wrap: wrap;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo img {
      height: 50px;
      margin-right: 1rem;
      filter: brightness(0) saturate(100%) invert(19%) sepia(100%) saturate(7475%) hue-rotate(344deg) brightness(101%) contrast(119%);
    }
    .logo-text {
      font-size: 1.5rem;
      font-family: 'Montserrat', sans-serif;
      color: #fff;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    nav a {
      text-decoration: none;
      color: #fff;
      font-family: 'Montserrat', sans-serif;
      transition: color 0.3s ease;
    }
    nav a:hover {
      color: #ff3333;
    }
    .btn {
      background-color: #777;
      border: none;
      color: #fff;
      padding: 0.6rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-family: 'Montserrat', sans-serif;
    }
    .container {
      padding: 3rem 1.5rem;
      max-width: 1200px;
      margin: auto;
    }
    h1, h2 {
      font-family: 'Roboto', sans-serif;
      color: #ff3333;
      margin-bottom: 1rem;
    }
    .section {
      margin-bottom: 4rem;
    }
    .highlight-box {
      background: #1e1e1e;
      border-left: 5px solid #ff3333;
      padding: 1.5rem;
      margin-top: 1rem;
      border-radius: 12px;
    }
    .feature-list {
      list-style: none;
      padding-left: 0;
    }
    .feature-list li::before {
      content: "\1F3AE";
      margin-right: 0.5rem;
    }
    .callout {
      background-color: #2b2b2b;
      padding: 1rem 1.5rem;
      border-radius: 10px;
      font-weight: bold;
      color: #fff;
      text-align: center;
      font-size: 1.2rem;
      border: 1px solid #444;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }
    .stat-box {
      background: #1a1a1a;
      padding: 1rem;
      border-radius: 12px;
      text-align: center;
      border: 2px solid #ff3333;
    }
    .stat-box h3 {
      font-size: 2.5rem;
      margin: 0;
      color: #ff3333;
    }
    .stat-box p {
      margin: 0.5rem 0 0;
      font-size: 1rem;
    }
    footer {
      background-color: #1f1f1f;
      text-align: center;
      padding: 1.5rem 1rem;
      margin-top: 4rem;
    }
    .platform-icons {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 0.6rem;
    }
    .platform-icons img {
      height: 32px;
      width: auto;
      opacity: 0.9;
      transition: transform 0.3s ease, filter 0.3s ease;
    }
    .platform-icons img:hover {
      transform: scale(1.2);
      filter: brightness(1.3) drop-shadow(0 0 6px #ff3333);
    }
    footer p {
      color: #ccc;
      font-size: 1rem;
      font-family: 'Roboto', sans-serif;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="GSU_LOGO.png" alt="GSU Logo" />
      <div class="logo-text">GAMESYNC UNION</div>
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="games.html">Games</a>
      <a href="trophies.html">GSU Hall of Trophies & Achievements</a>
      <a href="art.html">Art</a>
      <a href="game-guides.html">Guides</a>
      <a href="uploads.html">GSU Player Lounge</a>
    </nav>
    <button id="logoutBtn" class="btn">Log Out</button>
  </header>

  <div class="container">
    <section class="section reveal">
      <h1>üî• What Is GameSync Union?</h1>
      <div class="highlight-box">
        <p><strong>GameSync Union (GSU)</strong> is a live, data-driven platform built by gamers for gamers ‚Äî to highlight your achievements, content, and identity. Whether you‚Äôre earning trophies, posting art, or streaming gameplay, GSU tracks and showcases what‚Äôs real. Everything here is driven by actual member uploads, guide activity, profile stats, and trending community data in real time.</p>
      </div>
    </section>

    <section class="section reveal">
      <h2>üìä Real-Time Growth</h2>
      <div class="stats-grid" id="live-stats">
        <div class="stat-box"><h3 id="upload-count">...</h3><p>Uploads Shared</p></div>
        <div class="stat-box"><h3 id="game-count">...</h3><p>Games Repped</p></div>
        <div class="stat-box"><h3>4</h3><p>Platforms Supported</p></div>
        <div class="stat-box"><h3>Live</h3><p>Community Chat</p></div>
      </div>
    </section>

    <section class="section reveal">
      <h2>üéÆ Who‚Äôs It For?</h2>
      <ul class="feature-list">
        <li>Console warriors and trophy legends</li>
        <li>PC elite with insane mechanics and mod power</li>
        <li>Artists, lorekeepers, guide creators</li>
        <li>Community builders and challenge seekers</li>
      </ul>
    </section>

    <section class="section reveal">
      <h2>üöÄ Why GSU is Built Different</h2>
      <div class="highlight-box">
        <ul class="feature-list">
          <li>Everything you see is from live GSU community activity</li>
          <li>Dynamic uploads, trophies, art, and leaderboard stats</li>
          <li>Gamer identity with avatars, badges, console stats</li>
          <li>Highlight features driven by actual Firestore data</li>
        </ul>
      </div>
    </section>

    <section class="section reveal" id="gsu-spotlight">
      <h2>üèÖ GSU Gamer of the Month</h2>
      <div class="highlight-box" id="spotlight-box">
        <p><strong>Loading featured gamer...</strong></p>
      </div>
    </section>
  </div>

  <footer>
    <div class="platform-icons">
      <img src="PS_Logo.png" alt="PlayStation" />
      <img src="Xbox.png" alt="Xbox" />
      <img src="Steam.png" alt="PC" />
      <img src="Switch.png" alt="Nintendo Switch" />
    </div>
    <p>&copy; 2025 GameSync Union. Built for gamers, by gamers.</p>
  </footer>

  <script>
    const scrollObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('reveal');
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.section').forEach(section => {
      section.classList.add('hidden');
      scrollObserver.observe(section);
    });
  </script>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js';
    import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyBA7aIUj919ub7QtkQkAp-xv4XC0tzmSCI",
      authDomain: "gamesync-union.firebaseapp.com",
      projectId: "gamesync-union",
      storageBucket: "gamesync-union.appspot.com",
      messagingSenderId: "488911705365",
      appId: "1:488911705365:web:ad8b3be7936a46bb77c51c"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function updateStatsFromGSU() {
      try {
        const uploadsRef = await getDocs(collection(db, 'uploads'));
        const gamesSet = new Set();
        uploadsRef.forEach(doc => {
          const data = doc.data();
          if (data.gameTitle) gamesSet.add(data.gameTitle);
        });
        document.getElementById('upload-count').innerText = uploadsRef.size + '+';
        document.getElementById('game-count').innerText = gamesSet.size + '+';
      } catch (err) {
        console.error("Error loading GSU stats:", err);
      }
    }

    async function pickGamerOfTheMonth() {
      try {
        const usersRef = collection(db, 'users');
        const snapshot = await getDocs(usersRef);
        const users = snapshot.docs.map(doc => doc.data()).filter(user => user.username);

        if (users.length === 0) return;
        const date = new Date();
        const seed = date.getFullYear() * 100 + (date.getMonth() + 1);
        const index = seed % users.length;
        const gamer = users[index];

        const spotlightBox = document.getElementById('spotlight-box');
        spotlightBox.innerHTML = `
          <p><strong>üî• Gamer of the Month:</strong> <span style="color: #ff3333; font-size: 1.25rem; font-weight: bold;">${gamer.username}</span></p>
          <p>Platform: <strong>${gamer.platform || 'Unknown'}</strong></p>
          <p>Games Played: <strong>${gamer.gamesPlayed || 0}</strong> | Trophy Count: <strong>${gamer.trophyCount || 0}</strong></p>
        `;
      } catch (error) {
        console.error("Failed to load Gamer of the Month:", error);
        document.getElementById('spotlight-box').innerHTML = `<p><strong>Error loading gamer data. Please try again later.</strong></p>`;
      }
    }

    updateStatsFromGSU();
    pickGamerOfTheMonth();
  </script>
</body>
</html>
