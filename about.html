<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>What is GameSync Union?</title>
  <link rel="stylesheet" href="/styles/global.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto&display=swap" rel="stylesheet" />
  <style>
    body {
      background: linear-gradient(to bottom, #111, #1a1a1a);
      color: #f0f0f0;
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 0;
    }
    .reveal { opacity: 1; transform: translateY(0); transition: all 0.8s ease; }
    .hidden { opacity: 0; transform: translateY(50px); }
    header, footer, .section { animation: fadeInUp 0.8s ease forwards; }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(40px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    header {
      background-color: #1f1f1f;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      flex-wrap: wrap;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo img {
      height: 50px;
      margin-right: 1rem;
    }
    .logo-text {
      font-size: 1.6rem;
      font-weight: bold;
    }
    nav {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    nav a {
      text-decoration: none;
      color: #fff;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #ff3333;
    }
    .gsu-quote {
      font-style: italic;
      font-size: 1rem;
      color: #ccc;
      margin-top: 0.4rem;
    }
    .hero-video {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 2rem;
    }
    .hero-video video {
      max-width: 90%;
      border: 4px solid #ff3333;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(255, 51, 51, 0.6);
    }
    .section {
      padding: 2rem;
      max-width: 1200px;
      margin: auto;
    }
    h2 {
      color: #ff3333;
      font-family: 'Roboto', sans-serif;
    }
    .highlight-box {
      background: #1e1e1e;
      border-left: 5px solid #ff3333;
      padding: 1.5rem;
      margin-top: 1rem;
      border-radius: 12px;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-top: 1rem;
    }
    .stat {
      background: #222;
      padding: 1rem;
      text-align: center;
      border-radius: 10px;
      border: 1px solid #333;
    }
    .stat h3 {
      color: #ff3333;
      margin-bottom: 0.5rem;
    }
    .spotlight-banner {
      margin-top: 2rem;
      padding: 1rem 1.5rem;
      background-color: #1e1e1e;
      border-left: 6px solid #ff3333;
      border-radius: 10px;
      box-shadow: 0 0 12px rgba(255, 51, 51, 0.4);
    }
    .spotlight-banner strong {
      color: #ff3333;
      font-size: 1.25rem;
    }
    footer {
      background-color: #1f1f1f;
      text-align: center;
      padding: 1.5rem 1rem;
    }
    .platform-icons {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-bottom: 0.6rem;
    }
    .platform-icons img {
      height: 32px;
      transition: transform 0.3s ease, filter 0.3s ease;
    }
    .platform-icons img:hover {
      transform: scale(1.2);
      filter: brightness(1.3) drop-shadow(0 0 6px #ff3333);
    }
    footer p {
      color: #ccc;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="GSU_LOGO.png" alt="GSU Logo" />
      <div>
        <div class="logo-text">GAMESYNC UNION</div>
        <div class="gsu-quote">‚ÄúSquad up, show out, cast your vote ‚Äî GSU‚Äôs the place where gamers don‚Äôt choke. Post your wins, drop your heat ‚Äî Chat, connect, and claim your seat.‚Äù</div>
      </div>
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="games.html">Games</a>
      <a href="trophies.html">GSU Hall of Trophies</a>
      <a href="art.html">Art</a>
      <a href="game-guides.html">Guides</a>
      <a href="uploads.html">GSU Lounge</a>
    </nav>
  </header>

  <div class="hero-video">
    <video controls autoplay muted loop>
      <source src="/media/gsu-hero-intro.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <section class="section reveal">
    <h2>üî• What Is GameSync Union?</h2>
    <div class="highlight-box">
      <p><strong>GameSync Union</strong> is the ultimate gamer hub for PlayStation, Xbox, Switch, and PC players. Upload gameplay, earn spotlights, conquer challenges, chat live, and show off trophies in real time ‚Äî all powered by your data, your skill, and your GSU profile. It's not just a platform, it's your arena.</p>
    </div>
  </section>

  <section class="section reveal">
    <h2>üìà Live Stats</h2>
    <div class="stats-grid">
      <div class="stat"><h3 id="upload-count">Loading...</h3><p>Uploads Shared</p></div>
      <div class="stat"><h3 id="game-count">Loading...</h3><p>Games Repped</p></div>
      <div class="stat"><h3 id="member-count">Loading...</h3><p>Total Members</p></div>
    </div>
  </section>

  <section class="section reveal">
    <h2>üèÖ GSU Gamer of the Month</h2>
    <div id="gamer-of-the-month" class="spotlight-banner">Loading featured gamer...</div>
  </section>

  <footer>
    <div class="platform-icons">
      <img src="PS_Logo.png" alt="PlayStation" />
      <img src="Xbox.png" alt="Xbox" />
      <img src="Steam.png" alt="PC" />
      <img src="Switch.png" alt="Nintendo Switch" />
    </div>
    <p>&copy; 2025 GameSync Union. Built for gamers, by gamers.</p>
  </footer>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js';
    import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyBA7aIUj919ub7QtkQkAp-xv4XC0tzmSCI",
      authDomain: "gamesync-union.firebaseapp.com",
      projectId: "gamesync-union",
      storageBucket: "gamesync-union.appspot.com",
      messagingSenderId: "488911705365",
      appId: "1:488911705365:web:ad8b3be7936a46bb77c51c"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function updateLiveStats() {
      try {
        const uploadsRef = await getDocs(collection(db, 'uploads'));
        const usersRef = await getDocs(collection(db, 'users'));
        const gameSet = new Set();

        uploadsRef.forEach(doc => {
          const data = doc.data();
          if (data.gameTitle) gameSet.add(data.gameTitle);
        });

        document.getElementById('upload-count').innerText = uploadsRef.size + '+';
        document.getElementById('game-count').innerText = gameSet.size + '+';
        document.getElementById('member-count').innerText = usersRef.size + '+';
      } catch (error) {
        console.error("Failed to fetch live stats:", error);
      }
    }

    async function displayGamerOfTheMonth() {
      try {
        const usersSnap = await getDocs(collection(db, 'users'));
        const users = usersSnap.docs.map(doc => doc.data()).filter(user => user.username);

        if (users.length === 0) return;
        const now = new Date();
        const seed = now.getFullYear() * 100 + (now.getMonth() + 1);
        const index = seed % users.length;
        const user = users[index];

        document.getElementById('gamer-of-the-month').innerHTML = `
          <p><strong>${user.username}</strong> is repping GSU as the Gamer of the Month!<br>
          Platform: <strong>${user.platform || 'Unknown'}</strong> | Games Played: <strong>${user.gamesPlayed || 0}</strong> | Trophies: <strong>${user.trophyCount || 0}</strong></p>`;
      } catch (error) {
        document.getElementById('gamer-of-the-month').innerText = 'Unable to load spotlight at this time.';
      }
    }

    function triggerRevealOnScroll() {
      const reveals = document.querySelectorAll('.reveal');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('reveal');
        });
      }, { threshold: 0.1 });
      reveals.forEach(r => {
        r.classList.add('hidden');
        observer.observe(r);
      });
    }

    updateLiveStats();
    displayGamerOfTheMonth();
    triggerRevealOnScroll();
  </script>
</body>
</html>
