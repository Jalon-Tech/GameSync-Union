<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>GSU Charge Run</title>
  <link rel="icon" href="GSU_LOGO.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Orbitron', sans-serif;
      background: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    header {
      text-align: center;
    }

    header h1 {
      font-size: 3rem;
      color: #e60023;
    }

    header h2 {
      font-size: 1.5rem;
      color: #00ffee;
      margin-top: -10px;
    }

    #startGameBtn {
      padding: 14px 28px;
      font-size: 1.1rem;
      background-color: #e60023;
      color: white;
      border: none;
      border-radius: 8px;
      margin: 20px;
      cursor: pointer;
    }

    #gameArea {
      display: none;
      text-align: center;
    }

    #gameCanvas {
      display: grid;
      grid-template-columns: repeat(10, 80px);
      grid-template-rows: repeat(12, 80px);
      border: 3px solid #e60023;
      box-shadow: 0 0 20px #e60023cc;
      background-image:
        linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
      background-size: 80px 80px;
    }

    .grid-cell {
      width: 80px;
      height: 80px;
      position: relative;
    }

    .grid-cell div {
      width: 100%;
      height: 100%;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      transition: transform 0.1s ease;
      position: absolute;
    }

    .controller {
      background-image: url('GSU_LOGO.png');
      z-index: 5;
      transform: scale(1.5);
    }

    .battery {
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/4/44/Battery_icon_green.svg');
      z-index: 1;
    }

    .power {
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/4/4e/Lightning_bolt_icon.svg');
      z-index: 1;
    }

    .hazard {
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/2/2b/Fire_icon.svg');
      z-index: 1;
    }

    #hud {
      margin-top: 20px;
    }

    #powerBar, #lives {
      font-size: 1.5rem;
    }

    footer {
      margin-top: 30px;
      font-size: 0.9em;
      color: #666;
    }
  </style>
</head>
<body>
  <header>
    <h1>GSU DATA SURGE</h1>
    <h2>CONTROLLER CORE</h2>
  </header>

  <button id="startGameBtn">‚ñ∂Ô∏è START GSU CHARGE RUN</button>

  <div id="gameArea">
    <div id="gameCanvas"></div>
    <div id="hud">
      <p style="color: #ffff33;">üîã Collect all batteries and power!</p>
      <p style="color: #ff3333;">üî• Avoid hazards to survive!</p>
      <p><strong style="color: #ffcc00;">SURGE POWER:</strong> <span id="powerBar">‚ö°</span></p>
      <p id="lives">‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è</p>
    </div>
  </div>

  <footer>Built for GameSync Union ‚Äî GSU Charge Run‚Ñ¢</footer>

  <script>
    const grid = document.getElementById("gameCanvas");
    const startBtn = document.getElementById("startGameBtn");
    const powerBar = document.getElementById("powerBar");
    const livesEl = document.getElementById("lives");
    const gameArea = document.getElementById("gameArea");

    let lives = 3;
    let power = 0;
    let playerX = 5;
    let playerY = 6;

    let totalCollectibles = 0;
    let collected = 0;

    function updateUI() {
      powerBar.textContent = '‚ö°'.repeat(power);
      livesEl.textContent = '‚ù§Ô∏è '.repeat(lives);
    }

    function drawGrid() {
      grid.innerHTML = '';
      for (let y = 0; y < 12; y++) {
        for (let x = 0; x < 10; x++) {
          const cell = document.createElement('div');
          cell.className = 'grid-cell';
          cell.dataset.x = x;
          cell.dataset.y = y;
          grid.appendChild(cell);
        }
      }
    }

    function spawn(type, x, y) {
      const cell = [...grid.children].find(c => c.dataset.x == x && c.dataset.y == y);
      if (cell) {
        const item = document.createElement('div');
        item.className = type;
        cell.appendChild(item);
        if (type === 'battery' || type === 'power') totalCollectibles++;
      }
    }

    function movePlayer(dx, dy) {
      const newX = Math.max(0, Math.min(9, playerX + dx));
      const newY = Math.max(0, Math.min(11, playerY + dy));
      playerX = newX;
      playerY = newY;
      renderPlayer();
      checkCollision();
    }

    function renderPlayer() {
      [...grid.children].forEach(cell => {
        const controller = cell.querySelector('.controller');
        if (controller) controller.remove();
      });
      const cell = [...grid.children].find(c => c.dataset.x == playerX && c.dataset.y == playerY);
      if (cell) {
        const playerDiv = document.createElement('div');
        playerDiv.className = 'controller';
        cell.appendChild(playerDiv);
      }
    }

    function checkCollision() {
      const cell = [...grid.children].find(c => c.dataset.x == playerX && c.dataset.y == playerY);
      const item = cell.querySelector('.battery, .power, .hazard');
      if (item) {
        if (item.classList.contains('battery') || item.classList.contains('power')) {
          power++;
          collected++;
        } else if (item.classList.contains('hazard')) {
          lives--;
          if (lives <= 0) {
            alert('üíÄ You lost all your lives! Game Over!');
            resetGame();
            return;
          }
        }
        item.remove();
        updateUI();
        if (collected === totalCollectibles) {
          alert("üéâ FULL SYNC COMPLETE ‚Äì CONTROLLER ONLINE");
          resetGame();
        }
      }
    }

    function resetGame() {
      startBtn.textContent = "üîÅ RESTART GSU CHARGE RUN";
      startBtn.style.display = "block";
      gameArea.style.display = "none";
    }

    function startGame() {
      gameArea.style.display = "block";
      startBtn.style.display = "none";
      playerX = 5;
      playerY = 6;
      power = 0;
      lives = 3;
      collected = 0;
      totalCollectibles = 0;
      drawGrid();
      updateUI();
      for (let i = 0; i < 6; i++) {
        spawn("battery", Math.floor(Math.random() * 10), Math.floor(Math.random() * 12));
        spawn("power", Math.floor(Math.random() * 10), Math.floor(Math.random() * 12));
        spawn("hazard", Math.floor(Math.random() * 10), Math.floor(Math.random() * 12));
      }
      renderPlayer();
    }

    startBtn.addEventListener("click", startGame);

    document.addEventListener("keydown", (e) => {
      if (gameArea.style.display === "block") {
        if (e.key === "ArrowUp") movePlayer(0, -1);
        else if (e.key === "ArrowDown") movePlayer(0, 1);
        else if (e.key === "ArrowLeft") movePlayer(-1, 0);
        else if (e.key === "ArrowRight") movePlayer(1, 0);
      }
    });
  </script>
</body>
</html>
