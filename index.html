<!DOCTYPE html>
<html lang="en">
  
<head>
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GameSync Union</title>
  <link rel="icon" href="GSU_LOGO.png" />
  <link rel="apple-touch-icon" href="GSU_LOGO.png" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  
<style>
 
  .match-review-style h2 {
  color: #e60023;
  font-family: 'Montserrat', sans-serif;
  font-size: 1.2rem;
  margin-bottom: 0.75rem;
  text-shadow: 0 0 8px rgba(230, 0, 35, 0.7);
  border-bottom: 2px solid #e60023;
  padding-bottom: 0.5rem;
}

  .match-review-style {
  background-color: #1f1f1f;
  border: 2px solid #333;
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.05);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.match-review-style:hover {
  transform: scale(1.01);
  box-shadow: 0 0 14px rgba(230, 0, 35, 0.2);
}


  .review-box {
  border: 2px solid #fff;
  background: #1c1c1c;
  color: #fff;
  padding: 0.75rem;
  border-radius: 10px;
  font-family: 'Roboto', sans-serif;
  transition: border-color 0.3s ease;
  width: 100%;
  resize: vertical;
  min-height: 100px;
}

.review-box:focus {
  outline: none;
  border-color: #e60023;
}

  .retro-body .game-title {
  font-size: 1rem;
  font-weight: bold;
  color: var(--gsu-red); /* üî• Highlight in GSU red */
  margin-bottom: 0.4rem;
}

/* Highlight the review box border in GSU red */
#reviewGame,
#reviewText {
  background-color: #222;
  color: #fff;
  border: 2px solid #444;
  border-radius: 8px;
  padding: 8px;
  font-size: 0.9rem;
  margin-bottom: 0.6rem;
  transition: border 0.3s ease, box-shadow 0.3s ease;
}

#reviewGame:focus,
#reviewText:focus {
  border-color: var(--gsu-red);
  box-shadow: 0 0 8px rgba(230, 0, 35, 0.4);
  outline: none;
}

#reviewText {
  min-height: 80px;
  resize: vertical;
}

#quick-review-box {
  background-color: #1f1f1f;
  border: 2px solid #333;
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
  animation: fadeSlideIn 0.5s ease-out;
}

/* üî¥ Always shows red glow on hover */
#quick-review-box:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow: 0 6px 16px rgba(230, 0, 35, 0.4), 0 0 8px rgba(255, 255, 255, 0.05);
  border: 1px solid var(--gsu-red);
}

#quick-review-box h2 {
  color: #e60023;
  font-family: 'Montserrat', sans-serif;
  font-size: 1.2rem;
  margin-bottom: 0.75rem;
  text-shadow: 0 0 8px rgba(230, 0, 35, 0.7);
  border-bottom: 2px solid #e60023;
  padding-bottom: 0.5rem;
}

/* Fade-in effect */
@keyframes fadeSlideIn {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}



  main > .box:not(:last-child) {
  margin-bottom: 2.2rem;
}

#profile-box {
  background: linear-gradient(to bottom right, #1e1e1e, #282828);
  border: 2px solid var(--gsu-red);
  box-shadow: 0 0 12px rgba(230, 0, 35, 0.2);
  border-radius: 10px;
  text-align: center;
  font-size: 1rem;
}
#profile-box {
  animation: fadeSlideIn 0.5s ease-out;
}

@keyframes fadeSlideIn {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}


  .retro-flashback {
  background-color: var(--black-faded);
  border-radius: 8px;
  padding: 1rem;
  font-family: 'Roboto', sans-serif;
  color: var(--white-text);
  box-shadow: 0 0 8px rgba(255, 0, 55, 0.12);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.retro-flashback:hover {
  transform: translateY(-4px);
  box-shadow: 0 0 14px rgba(230, 0, 35, 0.25);
}


.retro-header {
  font-size: 1.1rem;
  color: var(--gsu-red);
  font-family: 'Montserrat', sans-serif;
  margin-bottom: 0.6rem;
}

.retro-body .game-title {
  font-size: 1rem;
  font-weight: bold;
  color: #f8f8f8;
  margin-bottom: 0.4rem;
}

.retro-body .game-fact {
  font-size: 0.9rem;
  line-height: 1.5;
  color: #ccc;
}


.livewire-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}
.stat-item {
  background: #2a2a2a;
  padding: 1rem;
  border-radius: 8px;
  font-size: 0.95rem;
  font-family: 'Roboto', sans-serif;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.3);
}

.stat-item:hover {
  transform: scale(1.03);
  background-color: #333;
  box-shadow: 0 0 10px rgba(230, 0, 35, 0.25);
}

.culture-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 1rem;
  text-align: center;
}
.culture-tile {
  background: #2a2a2a;
  padding: 1.4rem 1rem;
  border-radius: 10px;
  font-family: 'Montserrat', sans-serif;
  font-size: 1rem;
  color: white;
  text-decoration: none;
  position: relative;
  overflow: hidden;
  transition: transform 0.3s ease, background 0.3s ease;
}
.culture-tile:hover {
  background: var(--gsu-red);
  transform: scale(1.05);
}
.tile-hover {
  margin-top: 0.4rem;
  font-size: 0.85rem;
  color: #ddd;
}
.showoff-card {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  align-items: center;
  background-color: #2a2a2a;
  border-radius: 10px;
  padding: 1rem;
}
.showoff-img {
  width: 200px;
  height: 120px;
  object-fit: cover;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
}
.showoff-info h3 {
  color: var(--gsu-red);
  font-family: 'Montserrat', sans-serif;
  font-size: 1.2rem;
  margin-bottom: 0.4rem;
}
.showoff-info p {
  font-size: 0.95rem;
  font-family: 'Roboto', sans-serif;
  margin-bottom: 0.6rem;
}
.talk-quote {
  background: #2a2a2a;
  padding: 1rem 1.2rem;
  border-left: 4px solid var(--gsu-red);
  border-radius: 8px;
  font-style: italic;
}
.talk-quote blockquote {
  font-size: 1.1rem;
  color: #eee;
  margin-bottom: 0.5rem;
  font-family: 'Montserrat', sans-serif;
}
.talk-quote p {
  font-size: 0.95rem;
  color: #aaa;
  font-family: 'Roboto', sans-serif;
}
.certified-moment {
  text-align: center;
  font-family: 'Roboto', sans-serif;
}
.certified-img {
  width: 100%;
  max-width: 400px;
  height: auto;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
  margin-bottom: 0.8rem;
}
.certified-caption {
  font-size: 1rem;
  margin-bottom: 0.6rem;
}
.incoming-drop {
  margin-top: 1rem;
  padding-left: 1rem;
  color: #ddd;
  font-family: 'Roboto', sans-serif;
  font-size: 0.95rem;
  list-style-type: square;
}

    /* CSS REMAINS UNCHANGED */
      :root {
      --gsu-red: #e60023;
      --black-main: #191818;
      --black-faded: #1F1F1F;
      --white-text: #FFFFFF;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Roboto', sans-serif;
      background-color: var(--black-main);
      color: var(--white-text);
    }
   header {
  background-color: var(--black-faded);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  flex-wrap: wrap;
  gap: 1rem;
  position: relative; /* Not sticky */
  z-index: 1000;
}

.logo {
  display: flex;
  align-items: center;
}

.logo img {
  height: 60px;
  margin-right: 1rem;
}

.logo-text {
  font-size: 1.6rem;
  font-family: 'Montserrat', sans-serif;
  color: var(--white-text);
}

nav {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}

nav a {
  text-decoration: none;
  color: var(--white-text);
  font-family: 'Montserrat', sans-serif;
  font-size: 1rem;
  transition: color 0.3s ease;
}

nav a:hover {
  color: var(--gsu-red);
}

    .main-container {
      display: grid;
      grid-template-columns: 1fr 3fr 1fr; /* sidebar - main - sidebar */
      gap: 1.5rem;
      padding: 2rem;
    }

    aside, main {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
    }
    .box {
      background-color: var(--black-faded);
      border-radius: 8px;
      padding: 1rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
      color: var(--white-text);
    }
    .box:hover {
      transform: translateY(-6px) scale(1.01);
      box-shadow: 0 6px 16px rgba(230, 0, 35, 0.4), 0 0 8px rgba(255, 255, 255, 0.05);
      border: 1px solid var(--gsu-red);
    }
    .box li {
      transition: transform 0.3s ease;
    }
    .box:hover li {
      transform: translateX(6px);
    }
    .box h2 {
      font-family: 'Montserrat', sans-serif;
      margin-bottom: 0.7rem;
    }
    .input-field {
      padding: 0.6rem;
      border: none;
      border-radius: 6px;
      margin-bottom: 0.6rem;
      width: 100%;
      background-color: #2a2a2a;
      color: var(--white-text);
    }
    .btn {
      background-color: var(--gsu-red);
      border: none;
      color: var(--white-text);
      padding: 0.8rem;
      width: 100%;
      border-radius: 6px;
      cursor: pointer;
      font-family: 'Montserrat', sans-serif;
    }
    .btn:hover {
      opacity: 0.85;
    }
    footer {
      background-color: var(--black-faded);
      text-align: center;
      padding: 1.2rem 1rem;
      margin-top: 4rem;
    }
    .platform-icons {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 0.6rem;
    }
    .platform-icons img {
      height: 32px;
      width: auto;
      opacity: 0.9;
    }
    footer p {
      color: #ccc;
      font-size: 1rem;
      font-family: 'Roboto', sans-serif;
    }
    .section-flex {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .section-flex div {
      flex: 1 1 100px;
      text-align: center;
    }
    @media (max-width: 1024px) {
      .main-container {
        grid-template-columns: 1fr;
        padding: 1rem;
      }
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      nav {
        justify-content: flex-start;
      }
      .logo-text {
        font-size: 1.3rem;
      }
      .section-flex {
        flex-direction: column;
        text-align: center;
      }
    }
    @media (max-width: 600px) {
      .logo img {
        height: 40px;
      }
      .logo-text {
        font-size: 1.2rem;
      }
      nav a {
        font-size: 0.9rem;
      }
      .btn {
        padding: 0.7rem;
      }
      .input-field {
        font-size: 0.9rem;
      }
    }
    #spotlight3 {
  background: linear-gradient(to bottom right, #1f1f1f, #262626);
  border: 2px solid transparent;
  border-radius: 12px;
  padding: 2rem 1.5rem;
  box-shadow: 0 0 16px rgba(230, 0, 35, 0.3);
  color: var(--white-text);
  font-family: 'Montserrat', sans-serif;
  text-align: center;
  margin-bottom: 1.5rem;
  transition: border 0.3s ease;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

#spotlight3:hover {
  border-color: var(--gsu-red); /* Only show red border on hover */
}


#spotlight3 h2 {
  color: var(--gsu-red);
  font-size: 1.4rem;
  margin-bottom: 0.5rem;
}

#spotlight3 p {
  font-size: 0.95rem;
  color: #ccc;
  margin-bottom: 1.2rem;
}


.spotlight-video:hover {
  transform: scale(1.02);
  border-color: var(--gsu-red);
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.1);
}

.spotlight-video iframe {
  width: 100%;
  height: 340px;
  border-radius: 10px;
}

@media (max-width: 768px) {
  .spotlight-video iframe {
    height: 220px;
  }
}

.spotlight-video iframe {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}



.spotlight-video h3 {
  color: var(--gsu-red);
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
  font-family: 'Montserrat', sans-serif;
}

.character-image {
  height: 280px;
  width: auto;
  object-fit: contain;
  background-color: #111;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
  padding: 6px;
}



#character-image {
  height: 280px;
  width: auto;
  object-fit: contain;
  border-radius: 0;
  box-shadow: none;
  margin: 0 auto;
  display: block;
  background: transparent !important;
}


#fav-images {
  scroll-behavior: smooth;
}

#fav-images::-webkit-scrollbar {
  height: 8px;
}

#fav-images::-webkit-scrollbar-thumb {
  background-color: var(--gsu-red);
  border-radius: 6px;
}


  .image-row img {
  height: 60px;
  border-radius: 6px;
  box-shadow: 0 0 6px rgba(255,255,255,0.1);
  transition: transform 0.3s;
}
.image-row img:hover {
  transform: scale(1.05);
}

#fav-images {
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  gap: 1rem;
  padding: 0.5rem 0;
  justify-content: flex-start;
  max-width: 100%;
}

#fav-images img {
  height: 280px;
  width: auto;
  object-fit: contain;
  scroll-snap-align: center;
  background: #111;
  padding: 6px;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.08);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

#fav-images img:hover {
  transform: scale(1.05);
  box-shadow: 0 0 12px rgba(230, 0, 35, 0.3);
}

#fav-images::-webkit-scrollbar {
  height: 8px;
}

#fav-images::-webkit-scrollbar-thumb {
  background-color: var(--gsu-red);
  border-radius: 6px;
}

.profile-fav-img {
  max-height: 200px;
  width: auto;
}
.box h2 {
  text-shadow: 0 0 6px rgba(255, 0, 55, 0.3);
}

#upcoming-events {
  animation: fadeSlideIn 0.6s ease-out;
}


.match-review-style {
  background-color: #1f1f1f;
  border: 2px solid #333;
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.05);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  animation: fadeSlideIn 0.5s ease-out;
}

.match-review-style:hover {
  transform: scale(1.01);
  box-shadow: 0 0 14px rgba(230, 0, 35, 0.2);
}

.match-review-style h2 {
  color: #e60023;
  font-family: 'Montserrat', sans-serif;
  font-size: 1.2rem;
  margin-bottom: 0.75rem;
  text-shadow: 0 0 8px rgba(230, 0, 35, 0.7);
  border-bottom: 2px solid #e60023;
  padding-bottom: 0.5rem;
}

#quick-review-box input,
#quick-review-box textarea {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 0.75rem;
  border-radius: 8px;
  background: #2c2c2c;
  border: 1px solid #444;
  color: #fff;
  font-family: 'Roboto', sans-serif;
}

#quick-review-box input:focus,
#quick-review-box textarea:focus {
  border-color: #e60023;
  outline: none;
  box-shadow: 0 0 4px rgba(230, 0, 35, 0.4);
}

#quick-review-box .btn {
  background-color: #e60023;
  color: white;
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 8px;
  font-weight: bold;
  font-family: 'Roboto', sans-serif;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.3s ease;
}

#quick-review-box .btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 12px rgba(230, 0, 35, 0.5);
}

@keyframes fadeSlideIn {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}



  </style>
</head>
<body>
  <!-- HTML CONTENT REMAINS UNCHANGED UNTIL FOOTER -->
    <header>
  <div class="logo">
    <img src="GSU_LOGO.png" alt="GSU Logo" />
    <div class="logo-text">GAMESYNC UNION</div>
  </div>
  <nav>
    <a href="index.html">Home</a>
    <a href="games.html">Games</a>
    <a href="trophies.html">GSU Hall of Trophies & Achievements</a>
    <a href="art.html">Art</a>
    <a href="game-guides.html">Guides</a>
    <a href="uploads.html">GSU Player Lounge</a>
  </nav>
     <button id="logoutBtn" class="btn" style="max-width: 120px; background-color: #777;">Log Out</button>
  </header>

  <div class="main-container">
    <aside>
      <div class="box" id="auth-box">
        <h2>Create Account or Sign In</h2>
        <input type="text" class="input-field" placeholder="Email" />
        <input type="text" class="input-field" placeholder="Username" />
        <input type="password" class="input-field" placeholder="Password" />
        <button class="btn">Sign In</button>
        <p style="text-align: center; margin-top: 0.6rem;">
         Not a GSU member?
        <button class="btn" id="createAccountBtn" style="
          display: block;
          margin: 1rem auto;
          padding: 0.25rem 0.75rem;
          font-size: 0.85rem;
        ">
          Create your GSU account
        </button>

      </p>
      </div>
      
     <!-- üïπÔ∏è Retro Game Flashback -->
<div class="box match-review-style">
  <h2 class="retro-header">üïπÔ∏è Retro Game Flashback</h2>
  <p style="font-size: 0.9rem; color: #ccc; font-family: 'Roboto', sans-serif; margin-bottom: 0.8rem;">
    Step back into the early days of gaming, when every level was a challenge and every victory felt earned. This flashback spotlights a title that helped shape the industry ‚Äî a reminder of where the journey began.
  </p>
  <div class="retro-body">
    <div class="game-title">From here, the Retroverse info unfolds.</div>
    <div class="game-fact" id="retro-fact" style="max-height: 90px; overflow-y: auto;">
      Loading fact...
    </div>
    <button class="btn" onclick="loadRetroFact()" style="margin-top: 0.8rem; font-size: 0.85rem;">üïπÔ∏è Spin the Retro Wheel</button>
  </div>
</div>

<!-- üß¨ GSU Character Sync Assignment -->
<div class="box match-review-style">
  <h2 class="retro-header">üß¨ GSU Character Sync Assignment</h2>
  <p style="font-size: 0.9rem; color: #ccc; font-family: 'Roboto', sans-serif; margin-bottom: 0.8rem;">
    Based on your top 3 favorite games, we've scanned your vibe, playstyle, and energy to sync you with a legendary character.
  </p>

  <div class="retro-body">
    <div style="text-align: center;">
      <div style="font-size: 0.85rem; margin-top: 0.3rem;" id="character-role"></div>
    </div>

  <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-top:0.8rem;justify-content:center;">
  <img id="character-image" src="..." class="character-image" 

  style="
    height: 140px;
    width: 140px;
    object-fit: contain;
    border-radius: 12px;
    box-shadow: 0 0 12px rgba(255, 255, 255, 0.2);
    background-color: #111;
    padding: 6px;
    transition: transform 0.3s ease;"/>


  <div style="font-size: 0.85rem; max-width: 260px;" id="character-desc">
    Analyzing traits from your favorite games...
  </div>
</div>


    <button class="btn" onclick="assignCharacter()" style="margin-top: 0.8rem; font-size: 0.85rem;">üß¨ Sync Your Gaming Identity</button>
  </div>
</div>

<div id="quick-review-box">
  <h2>üìù Quick Game Review</h2>
  <p>...</p>
  <input type="text" id="reviewGame" placeholder="Game Title" />
  <textarea id="reviewText" placeholder="Your review..."></textarea>
  <button class="btn" onclick="submitGameReview()">üì§ Submit Review</button>
</div>





<!-- üîß Scripts -->
<script>
  const RetroFacts = [
    "üïπÔ∏è Donkey Kong (1981) introduced Jumpman ‚Äî who would later become Mario.",
    "üß± Tetris (1984) was created by a Soviet engineer and smuggled out of the USSR.",
    "üíæ NES cartridges used 'lockout chips' to prevent unlicensed games.",
    "üéØ Pong (1972) was so popular that the original machine overflowed with quarters and broke.",
    "üéÆ The Sega Genesis had a hidden sound test screen used for cheat codes in Sonic games.",
    "üëæ Space Invaders (1978) was the first game to increase difficulty as you played.",
    "üé§ Mortal Kombat sparked U.S. government hearings that led to the ESRB rating system.",
    "üåÄ SNES Mode 7 graphics engine enabled fake 3D effects in F-Zero and Mario Kart.",
    "üìº Game saves didn‚Äôt exist early on ‚Äî players had to beat the game in one sitting."
  ]; 
  
 const CharacterAssignments = [
{
  name: "Peter Parker/Spider-Man",
  role: "superhero",
  desc: "You balance smarts, strength, and soul. In every crisis, you choose the right thing ‚Äî even when it costs you everything.",
  game: "Marvel's Spider-Man 2",
  img: "https://cdn2.unrealengine.com/egs-marvelsspidermandigitaldeluxeedition-insomniacgamesnixxessoftware-editions-g1a-00-1920x1080-f8f8dc068a4d.jpg"
}

];


  function loadRetroFact() {
    const random = RetroFacts[Math.floor(Math.random() * RetroFacts.length)];
    document.getElementById("retro-fact").innerText = random;
  }

  function assignCharacter() {
    const random = CharacterAssignments[Math.floor(Math.random() * CharacterAssignments.length)];
    document.getElementById("character-role").innerText = `üéÆ You Are: ${random.name} (${random.role})`;
    document.getElementById("character-desc").innerText = random.desc;
    document.getElementById("character-image").src = random.img;
  }

  window.addEventListener('DOMContentLoaded', () => {
    loadRetroFact();
    assignCharacter();
  });
</script>

    </aside>
    <main>
      <div class="box" style="text-align:center;">
        <h2>Welcome to GameSync Union</h2>
        <p style="margin-bottom: 1rem;">No pause. No kink. Just raw sync ‚Äî GameSync Union is where gamers link.</p>
        <button class="btn" onclick="window.location.href='about.html'"><h3>üìòüéÆ The Full Breakdown: GameSync Union Explained</h3></button>
      </div>

      <div class="box" id="profile-box">
    <h2 style="color: var(--gsu-red);">Your Profile</h2>
    <p id="fav-games">üåü Favorite Games</p>
    <p id="games-played">üéÆ Games Played</p>
    <p id="trophy-stats">üèÜ Trophy Stats</p>

    <div style="margin-top: 1rem;">
      <label style="color:#ccc; font-size: 0.9rem;">üéÆ Synced Game Covers ‚Äì Pulled from Your Top 3 Favorites</label>
    </div>

    <div id="fav-images" style="
      margin-top: 0.8rem;
      display: flex;
      overflow-x: auto;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
      padding: 1rem 0;
      scroll-snap-type: x mandatory;
      border: 1px solid #444;
      border-radius: 10px;
      background: #1b1b1b;
      ">
    </div>

    <div style="margin-top: 1rem; text-align: center;">
      <button onclick="openEditModal()" class="edit-btn">Update GSU Profile</button>
    </div>
  </div>
      <input type="text" class="input-field" placeholder="Search guides, uploads, art, users, or trophies..." />

<div class="box">
  <h2 style="color: var(--gsu-red); font-family: 'Montserrat', sans-serif; text-align: center;">üî• Statline Supreme: All Union. All Syncd.</h2>
  <div class="livewire-stats">

    <div class="stat-item">üë• Total GSU Members: <span id="totalMembers">_</span></div>
    <div class="stat-item">üÜï New Members This Week: <span id="newMembers">_</span></div>
    <div class="stat-item">üìπ Videos Shared Across the GSU Community: <span id="videoUploads">_</span></div>
    <div class="stat-item">üé® Fan Art Pieces Shared: <span id="fanArt">_</span></div>
    <div class="stat-item">üèÜ Trophies Earned by GSU Players: <span id="trophies">_</span></div>
    <div class="stat-item">ü•ä Fighting Game Combos Shared: <span id="combos">_</span></div>
    <div class="stat-item">üìä Total Community Poll Votes: <span id="pollVotes">_</span></div>


  </div>

</div>

<div class="box">
  <h2 style="color: var(--gsu-red); font-family: 'Montserrat', sans-serif; text-align: center;">üí™ Built by GSU. Flexed by Gamers.</h2>

  <div class="culture-grid">
   <a href="games.html" class="culture-tile">üéÆ Game Lineup<div class="tile-hover">What We‚Äôre Really Playing.</div></a>

<a href="trophies.html" class="culture-tile">üèÜ Hall of Trophies<div class="tile-hover">Earn It. Show It Off.</div></a>
<a href="art.html" class="culture-tile">üñºÔ∏è Fan Art<div class="tile-hover">Clipped. Posted. Respected.</div></a>
<a href="community-gameplay-videos.html" class="culture-tile">üé• Gameplay Hub<div class="tile-hover">Your Best Runs. On Display.</div></a>
<a href="uploads.html" class="culture-tile">üí¨ Player Lounge<div class="tile-hover">Talk Real. Squad Up.</div></a>
<a href="combo-guides.html" class="culture-tile">ü•ä Combo Guides<div class="tile-hover">Damage that actually matters.</div></a>
<a href="guide-discussion.html" class="culture-tile">üß† Meta Talk<div class="tile-hover">Work needed to bring in those Wins.</div></a>
<a href="trophy-tips.html" class="culture-tile">üìà Trophy Tips<div class="tile-hover">Level Up Without Wasting Time.</div></a>


  </div>
</div>

<div class="box">
 <h2 style="color: var(--gsu-red); font-family: 'Montserrat', sans-serif; text-align: center;">
üî• Made the Union Watch
</h2>
<p style="text-align: center; font-family: 'Roboto'; color: var( --white-text);">
When the Union highlights you ‚Äî it means something. If your name‚Äôs echoing in live chat, it‚Äôs because your skills made the noise. Real gameplay earns the light.
</p>

  <div class="showoff-card" style="flex-direction: column; align-items: center;">
  <div style="display: flex; justify-content: center;">
    <img 
      src="https://your-image-url.jpg" 
      alt="Elite Clip Thumbnail" 
      class="showoff-img" 
    />
  </div>
  <div class="showoff-info" style="text-align: center;">
    <h3>@QuantumX - ‚ÄúOne Parry, One Kill‚Äù</h3>
    <p>Disrespected the Valkyrie Queen with no HUD in God of War: Ragnar√∂k. Certified GSU moment.</p>
  </div>
</div>


<!-- ‚¨áÔ∏è Moved button OUTSIDE the post box, but still in the Union Watch section -->
<div style="width: 100%; display: flex; justify-content: center; margin-top: 1.2rem;">
  <button onclick="window.location.href='uploads.html'" class="btn" style="width: 100%; max-width: 240px;">
    See Why Everyone‚Äôs Talking
  </button>
</div>

</div>

      <div class="box">
        <h2>Game Guides</h2>
        <p>Find gameplay tutorials, boss fight strategies, combo guides for fighting games, tips for acquiring trophies and achievements, and enjoyable gameplay videos from the community.</p>
        <ul>
          <li><a href="boss-fight-strategies.html" style="color: #e60023;">Boss Fight Strategies</a></li>
          <li><a href="gameplay-tutorials.html" style="color: #e60023;">Gameplay Tutorials</a></li>
          <li><a href="community-gameplay-videos.html" style="color: #e60023;">Enjoyable Gameplay Videos from the Community</a></li>
          <li><a href="combo-guides.html" style="color: #e60023;">Combo Guides for Fighting Games</a></li>
          <li><a href="trophy-tips.html" style="color: #e60023;">Tips for Acquiring Trophies and Achievements</a></li>
          <li><a href="guide-discussion.html" style="color: #e60023;">Guide Discussion & Community Chat</a></li>
        </ul>
      </div>

   <div class="box">
  <h2 style="color: var(--gsu-red); font-family: 'Montserrat', sans-serif; text-align: center;">üé≠ Union Rewind: Talk of the Week</h2>

  <div class="talk-quote">
    <blockquote>‚ÄúBro didn‚Äôt dodge ‚Äî he teleported üíÄ‚Äù</blockquote>
    <p>‚Äî Pulled from GSU Lounge</p>
  </div>
</div>

<div class="box">
 <h2 style="color: var(--gsu-red); font-family: 'Montserrat', sans-serif; text-align: center;">
üëë One Trophy. One Flex. You Dropped It ‚Äî Now the Union Sees Why.
</h2>

  <div class="certified-moment">
    <img src="https://your-image-url.jpg" alt="Moment Screenshot" class="certified-img" />
    <p class="certified-caption">‚ÄúLeft the boss at 1% just to taunt üíÄ‚Äù ‚Äî <strong>@ThroneSnatcher</strong></p>
    <div style="text-align: center;">
      <button class="btn" onclick="window.location.href='trophies.html'" style="margin: 0 auto; display: inline-block;">Relive the Moment</button>
    </div>
  </div>
</div>

<div class="box">
  <h2 style="color: var(--gsu-red); font-family: 'Montserrat', sans-serif; text-align: center;">
  üì° Union Alert: Drop Goes Live Soon
  </h2>

  <ul class="incoming-drop">
    <li>üéØ Challenge Theme dropping Friday: <strong>‚ú® Style Over Damage</strong></li>
    <li>üñºÔ∏è Fan Art Tournament Round 2 this weekend</li>
    <li>üÜï GSU Custom Avatars launching soon</li>
  </ul>
</div>

   <!-- Spotlight 3 stays after these -->

  <div class="box" id="spotlight3">
    <h2>üéÆ GameSync Spotlight 3</h2>
    <p>Built from your profile picks. Get daily drops of gameplay, news, and updates from the 3 favorite games you locked in.</p>
    <div id="fav-game-updates"></div>
    </div>

    </main>

   <aside>
 <!-- üéÆ GSU Mini Games Zone -->
<div class="box match-review-style">
  <h2 class="retro-header">üïπÔ∏è The GameSync Game Room</h2>
  <p style="font-size: 0.9rem; color: #ccc; font-family: 'Roboto', sans-serif; margin-bottom: 0.8rem;">
   Explore GSU‚Äôs original mini-games‚Äîdesigned to deliver quick, high-impact experiences that challenge reflexes, focus, and precision. In GSU Charge Run, navigate a dynamic grid, avoid system hazards, and collect all power sources to achieve Full Sync. GSU Cipherstorm puts your speed and decoding skills to the test as you race to unscramble falling letter sequences before time runs out. GSU Command Strike brings competitive energy to the forefront in a real-time input duel where accuracy and reaction speed decide the winner. Each game is designed for instant accessibility, repeat play, and competitive depth‚Äîperfect for players looking to sharpen their skills or challenge friends.
  </p>
  <div class="retro-body" style="display: flex; flex-direction: column; gap: 0.5rem;">
    <button class="btn" style="font-size: 0.85rem;" onclick="location.href='Charge_Run.html'">GSU Charge Run</button>
    <button class="btn" style="font-size: 0.85rem;">GSU Command Strike</button>
    <button class="btn" style="font-size: 0.85rem;">GSU Cipher Storm</button>
  </div>
</div>

<!-- üß† Game Dev Knowledge Drop -->
<div class="box match-review-style">
  <h2 class="retro-header">üß† Game Dev Knowledge Drop</h2>
  <p style="font-size: 0.9rem; color: #ccc; font-family: 'Roboto', sans-serif; margin-bottom: 0.8rem;">
    Game development goes way beyond just code. Level design, engines, AI, and even psychology play a role. Level up your dev brain here.
  </p>
  <div class="retro-body" style="display: flex; flex-direction: column; gap: 0.5rem;">
    <div style="font-size: 0.85rem;">üìò <strong>Today's Topic:</strong> Why level design is more psychology than geometry.</div>
    <button class="btn" style="font-size: 0.85rem;">üìö Learn More</button>
  </div>
</div>

<div class="box match-review-style">
  <h2 class="retro-header">üí¨ GSU Vibe Check</h2>
  <p style="font-size: 0.9rem; color: #ccc; font-family: 'Roboto', sans-serif; margin-bottom: 0.8rem;">
    What‚Äôs the vibe across GameSync Union right now? We scanned the Lounge, uploads, and current plays to bring you the mood.
  </p>

  <div class="retro-body" style="display: flex; flex-direction: column; gap: 0.6rem;">
    <div style="font-size: 1rem; color: var(--gsu-red); font-weight: bold;">üî• Mood: Hype & Competitive</div>
    <div style="font-size: 0.85rem; color: #bbb;">Top quoted: ‚ÄúDon‚Äôt get perfect-parried again.‚Äù</div>
    <div style="font-size: 0.85rem; color: #bbb;">Top activity: Trophy flexes + fan art drops</div>
    <button class="btn" style="margin-top: 0.6rem; font-size: 0.85rem;">üì° Scan Live Vibe</button>
  </div>
</div>



  </div>
</aside>

  </div>

  <footer>
    <div class="platform-icons">
      <img src="PS_Logo.png" alt="PlayStation" />
      <img src="Xbox.png" alt="Xbox" />
      <img src="Steam.png" alt="PC" />
      <img src="Switch.png" alt="Nintendo Switch" />
    </div>
    <p>&copy; 2025 GameSync Union. Built for gamers, by gamers.</p>
  </footer>
  <!-- Edit Modal -->
<div id="editModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeEditModal()">&times;</span>
    <h2>Update Profile</h2>

    <label>Favorite Games (comma-separated):</label>
    <input type="text" id="editGames" placeholder="Spider-Man 2, Ratchet & Clank...">

    <label>Number of Games Played:</label>
    <input type="number" id="editGamesPlayed" min="0">

    <label>Favorite Game Image URLs (comma-separated):</label>
    <input type="text" id="editGameImages" placeholder="url1, url2, url3">

    <label>Total Trophy Count:</label>
    <input type="number" id="editTrophies" min="0">

    <button onclick="saveProfileChanges()">Save Changes</button>
  </div>
</div>

<style>
 .edit-btn {
  background-color: var(--gsu-red);
  color: var(--white-text);
  padding: 10px 14px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 15px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  transition: background-color 0.3s ease, transform 0.2s ease;
}

.edit-btn:hover {
  background-color: #cc001f; /* slightly darker red for hover */
  transform: scale(1.03);
}


 .modal {
  display: none;
  position: fixed;
  z-index: 100;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.7);
}

.modal-content {
  background-color: var(--black-faded);
  margin: 10% auto;
  padding: 24px;
  border: 2px solid var(--gsu-red);
  border-radius: 12px;
  width: 80%;
  max-width: 500px;
  color: var(--white-text);
  font-family: 'Montserrat', sans-serif;
  box-shadow: 0 0 12px rgba(230, 0, 35, 0.3);
}

.modal-content label {
  font-weight: 600;
  margin-top: 10px;
  display: block;
  color: var(--gsu-red);
}

.modal-content input {
  width: 100%;
  padding: 12px;
  margin: 10px 0 18px;
  background: #2a2a2a;
  color: var(--white-text);
  border: 1px solid #444;
  border-radius: 6px;
  font-family: 'Roboto', sans-serif;
}

.modal-content button {
  background-color: var(--gsu-red);
  color: white;
  border: none;
  padding: 12px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  font-family: 'Montserrat', sans-serif;
  transition: background-color 0.3s ease, transform 0.2s ease;
}

.modal-content button:hover {
  background-color: #cc001f;
  transform: scale(1.03);
}

.close {
  float: right;
  font-size: 28px;
  font-weight: bold;
  color: var(--gsu-red);
  cursor: pointer;
  transition: color 0.3s ease;
}

.close:hover {
  color: #ff3344;
}
#fav-game-updates {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 2rem;
  padding: 1rem;
  margin-top: 1rem;
}


.spotlight-video:hover {
  transform: scale(1.02);
  box-shadow: 0 0 16px rgba(230, 0, 35, 0.4);
  border: 1px solid var(--gsu-red);
}

.spotlight-video iframe {
  width: 100%;
  height: 200px;
  border: none;
  border-radius: 0;
}

.spotlight-video h3 {
  font-family: 'Montserrat', sans-serif;
  color: var(--gsu-red);
  font-size: 1rem;
  padding: 0.8rem 1rem 0 1rem;
}

.spotlight-video p {
  color: #bbb;
  font-size: 0.9rem;
  padding: 0 1rem 1rem 1rem;
}



#fav-game-updates::-webkit-scrollbar {
  width: 6px;
}

#fav-game-updates::-webkit-scrollbar-thumb {
  background: var(--gsu-red);
  border-radius: 6px;
}

.spotlight-video {
  background: #2a2a2a;
  padding: 1rem;
  border-radius: 10px;
  border: 2px solid transparent;
  transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
  opacity: 0;
  animation: fadeIn 0.5s ease forwards;
  width: 100%;
  max-width: 100%;
}

.spotlight-video:hover {
  transform: scale(1.02);
  border-color: var(--gsu-red);
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.08);
}

.spotlight-video iframe {
  width: 100%;
  height: 200px;
  border-radius: 8px;
  margin: 0.6rem 0;
}

.spotlight-video {
  opacity: 0;
  animation: fadeIn 0.6s ease forwards;
}

@keyframes fadeIn {
  to { opacity: 1; }
}
.profile-fav-img {
  height: 280px;
  object-fit: contain;
  background-color: #111;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.08);
  transition: transform 0.3s ease;
  scroll-snap-align: center;
  padding: 6px;
}
.profile-fav-img:hover {
  transform: scale(1.05);
  box-shadow: 0 0 12px rgba(230, 0, 35, 0.3);
}

</style>

<script>
  function openEditModal() {

  document.getElementById('editModal').style.display = 'block';

  // üß† Auto-fill current profile values
  document.getElementById('editGames').value = document.getElementById('fav-games').textContent.replace('üî• Favorite Games: ', '');
  document.getElementById('editGamesPlayed').value = document.getElementById('games-played').textContent.replace('üéÆ Number Of Games Played: ', '');
  document.getElementById('editTrophies').value = document.getElementById('trophy-stats').textContent.replace('üèÜ Trophy Stats (Total Trophies): ', '');
}



  function closeEditModal() {
    document.getElementById('editModal').style.display = 'none';
  }

  async function saveProfileChanges() {
  const games = document.getElementById('editGames').value;
  const gamesPlayed = document.getElementById('editGamesPlayed').value;
  const imageUrls = document.getElementById('editGameImages').value.split(',').map(s => s.trim());
  const trophies = document.getElementById('editTrophies').value;
  const user = getAuth().currentUser;
if (user) {
  const uid = user.uid;
  const docRef = doc(db, "users", uid);
  try {
    await setDoc(docRef, {
      favoriteGames: games.split(',').map(s => s.trim()),
      gamesPlayed: parseInt(gamesPlayed),
      favoriteImages: imageUrls,
      trophyCount: parseInt(trophies)
    }, { merge: true });

    alert("Profile updated successfully.");
  } catch (err) {
    console.error("Error saving profile:", err);
    alert("Error saving changes.");
  }
}



  document.getElementById('fav-games').textContent = `üî• Favorite Games: ${games}`;
  document.getElementById('games-played').textContent = `üéÆ Number Of Games Played: ${gamesPlayed}`;
  document.getElementById('trophy-stats').textContent = `üèÜ Trophy Stats (Total Trophies): ${trophies}`;

  const imageRow = document.getElementById("fav-images");
  imageRow.innerHTML = "";
 imageUrls.forEach(url => {
  const img = document.createElement("img");
  img.src = url;
  img.alt = "Game cover";
  img.classList.add("profile-fav-img"); // So CSS controls layout
  img.style.objectFit = "contain";
  img.style.backgroundColor = "transparent";
  img.style.boxShadow = "none";
  img.style.borderRadius = "0";
  img.style.transition = "transform 0.3s ease";
  img.style.scrollSnapAlign = "center";
  img.onmouseover = () => img.style.transform = "scale(1.05)";
  img.onmouseout = () => img.style.transform = "scale(1)";
  imageRow.appendChild(img); // ‚úÖ This was missing
});



  closeEditModal();
}
</script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    createUserWithEmailAndPassword,
    onAuthStateChanged,
    setPersistence,
    browserLocalPersistence
  } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
  import {
    getFirestore,
    doc,
    getDoc,
    setDoc
  } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBA7aIUj919ub7QtkQkAp-xv4XC0tzmSCI",
    authDomain: "gamesync-union.firebaseapp.com",
    projectId: "gamesync-union",
    storageBucket: "gamesync-union.appspot.com",
    messagingSenderId: "488911705365",
    appId: "1:488911705365:web:ad8b3be7936a46bb77c51c",
    measurementId: "G-CP48EXW1EV"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // ‚úÖ Ensure persistent login
  setPersistence(auth, browserLocalPersistence)
    .then(() => {
      console.log("‚úÖ Auth persistence enabled.");
    })
    .catch((error) => {
      console.error("Auth persistence error:", error);
    });

  // üîê Login logic
  const emailInput = document.querySelector('#auth-box input[placeholder="Email"]');
  const passwordInput = document.querySelector('#auth-box input[placeholder="Password"]');
  const usernameInput = document.querySelector('#auth-box input[placeholder="Username"]');
  const signInBtn = document.querySelector('#auth-box .btn');
  const createAccountBtn = document.getElementById('createAccountBtn');

  if (createAccountBtn) {
    createAccountBtn.addEventListener('click', () => {
      window.location.href = "account_creation.html";
    });
  }

  signInBtn.addEventListener('click', async () => {
    const email = emailInput.value.trim();
    const password = passwordInput.value;

    if (!email || !password) {
      alert("Enter both Email and Password to sign into your GSU account.");
      return;
    }

    try {
      const userCred = await signInWithEmailAndPassword(auth, email, password);
      const uid = userCred.user.uid;
      loadProfile(uid);
      alert("Signed in successfully");
    } catch (err) {
      alert("Login failed: " + err.message);
    }
  });

  // üîÑ Load Profile Box
  async function loadProfile(uid) {
    window.favoriteCoverMap = {};
    const snap = await getDoc(doc(db, "users", uid));
    if (snap.exists()) {
      const data = snap.data();
      console.log("User data:", data);

      const profileBox = document.getElementById("profile-box");

      const usernameEl = document.createElement("p");
      usernameEl.textContent = `üë§ Username: ${data.username || "N/A"}`;
      usernameEl.style.fontWeight = "bold";
      usernameEl.style.fontSize = "1rem";
      usernameEl.style.marginBottom = "0.5rem";
      profileBox.prepend(usernameEl);

      const platformEl = document.createElement("p");
      platformEl.textContent = `üîπ Platform: ${data.platform || "N/A"}`;
      platformEl.style.fontSize = "0.95rem";
      platformEl.style.marginBottom = "0.5rem";
      profileBox.insertBefore(platformEl, usernameEl.nextSibling);

      const favGamesEl = document.getElementById("fav-games");
      const gamesPlayedEl = document.getElementById("games-played");
      const trophyStatsEl = document.getElementById("trophy-stats");

      let imageRow = document.getElementById("fav-images");
      if (!imageRow) {
        imageRow = document.createElement("div");
        imageRow.id = "fav-images";
        imageRow.style.display = "flex";
        imageRow.style.flexWrap = "wrap";
        imageRow.style.gap = "0.5rem";
        imageRow.style.marginTop = "0.8rem";
        imageRow.style.justifyContent = "center";
        profileBox.appendChild(imageRow);
      }

      imageRow.innerHTML = "";

      favGamesEl.textContent = `üî• Favorite Games: ${Array.isArray(data.favoriteGames) ? data.favoriteGames.join(", ") : "N/A"}`;
      gamesPlayedEl.textContent = `üéÆ Number Of Games Played: ${data.gamesPlayed || "N/A"}`;
      trophyStatsEl.textContent = `üèÜ Trophy Stats (Total Trophies): ${data.trophyCount || "N/A"}`;

      if (Array.isArray(data.favoriteImages)) {
        data.favoriteImages.forEach((url, index) => {
          const img = document.createElement("img");
          img.src = url;
          img.alt = data.favoriteGames[index] || `Game ${index + 1}`;
          img.classList.add("profile-fav-img");
          imageRow.appendChild(img);
        });

        data.favoriteGames.forEach((title, index) => {
          const option = document.createElement("option");
          option.value = title;
          option.textContent = title;
          coverDropdown.appendChild(option);
          const titleKey = title.trim().toLowerCase();
          window.favoriteCoverMap[titleKey] = data.favoriteImages[index];
        });

        if (data.favoriteGames.length > 0) {
          coverDropdown.value = data.favoriteGames[0];
          displaySelectedCover();
        }

        const firstTitle = data.favoriteGames[0];
        const firstCover = window.favoriteCoverMap[firstTitle];
        if (firstCover) {
          displayArea.innerHTML = `<img src="${firstCover}" alt="${firstTitle}" style="height: 140px; object-fit: contain; background-color: #111; border-radius: 12px; box-shadow: 0 0 10px rgba(255,255,255,0.1); padding: 6px;">`;
        }
      }
    } else {
      console.warn("User profile data not found.");
    }
  }

  // üîì Logout
  const logoutBtn = document.getElementById("logoutBtn");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      try {
        await auth.signOut();
        document.getElementById("profile-box").style.display = "none";
        localStorage.setItem("gsu_logged_out", "true");
        window.location.href = "index.html";
      } catch (err) {
        alert("Error signing out: " + err.message);
      }
    });
  }

  // üåé Expose Firebase globals
  window.db = db;
  window.doc = doc;
  window.setDoc = setDoc;
  window.getAuth = getAuth;
  window.auth = auth;

  function displaySelectedCover() {
    const select = document.getElementById("fav-select");
    const display = document.getElementById("fav-cover-display");
    const selectedTitle = select.value.trim().toLowerCase();
    const selectedUrl = window.favoriteCoverMap?.[selectedTitle];

    if (selectedUrl) {
      display.innerHTML = `<img src="${selectedUrl}" alt="${selectedTitle}" style="height: 140px; object-fit: contain; background-color: #111; border-radius: 12px; box-shadow: 0 0 10px rgba(255,255,255,0.1); padding: 6px;">`;
    } else {
      display.innerHTML = "<p style='color:#ccc;'>Image not found.</p>";
    }
  }

  window.displaySelectedCover = displaySelectedCover;
  // ‚úÖ Auto-load profile on refresh or returning to page
onAuthStateChanged(auth, (user) => {
  if (user) {
    loadProfile(user.uid); // üß† Already defined above
    const profileBox = document.getElementById("profile-box");
    if (profileBox) profileBox.style.display = "block";
  } else {
    const profileBox = document.getElementById("profile-box");
    if (profileBox) profileBox.style.display = "none";
  }
});

</script>

<script type="module">
 

  import {
  getFirestore, doc, getDoc
} from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";
import {
  getAuth, onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";


const spotlightRef = document.getElementById("fav-game-updates");
const apiKey = "AIzaSyBtVEG3436lk_I4gfKCAxYSRv_IBU6lcBA"; // ‚úÖ Your API key

async function rotateYouTubeVideosForUser(uid) {
  try {
    const snap = await getDoc(doc(db, "users", uid));
    if (!snap.exists()) {
      spotlightRef.innerHTML = "<p style='color:red; text-align:center;'>‚ùå No user data found.</p>";
      return;
    }

    const { favoriteGames } = snap.data();
    console.log("Favorite games from Firebase:", favoriteGames);
    if (!Array.isArray(favoriteGames) || favoriteGames.length === 0) {
      spotlightRef.innerHTML = "<p style='color:red; text-align:center;'>‚ùå No favorite games set.</p>";
      return;
    }

    spotlightRef.innerHTML = "<p style='text-align:center;'>üîÑ Loading gameplay drops...</p>";

   const blocks = await Promise.all(
  favoriteGames.slice(0, 3).map(async (title) => {
    const cleanTitle = title.replace(/[^\w\s:]/gi, "").trim(); // Remove emojis/symbols
    try {
      const res = await fetch(
        `https://www.googleapis.com/youtube/v3/search?key=${apiKey}&part=snippet&type=video&maxResults=5&q=${encodeURIComponent(cleanTitle + " gameplay")}`
      );
      const data = await res.json();

      // ‚úÖ Handle YouTube quota errors here
    if (data?.error?.errors?.[0]?.reason === 'quotaExceeded') {
    return `
      <div style="color: var(--gsu-red); text-align: center; padding: 1rem;">
        Today‚Äôs video drops are temporarily unavailable. Check back tomorrow for fresh gameplay!
        <br/><br/>
        <button onclick="window.location.href='uploads.html'" style="background-color: var(--gsu-red); color: white; border: none; padding: 0.6rem 1rem; border-radius: 6px; cursor: pointer; font-family: 'Montserrat', sans-serif; font-weight: 600;">
          Explore GSU Player Lounge
        </button>
      </div>
    `;
  }


      const video = data.items?.find(item => item.id.kind === "youtube#video");
      const videoId = video?.id?.videoId;

      if (!videoId) throw new Error("No videos found");

      return `
      <div class="spotlight-video">
        <iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>
        <h3>üéÆ ${title}</h3>
        <p>‚ñ∂Ô∏è Daily gameplay drop powered by YouTube</p>
      </div>
    `;

    } catch (err) {
      console.error(`Error loading video for ${title}:`, err);
      return `<div style="color:red; text-align:center;">‚ùå Failed to load video for <strong>${title}</strong></div>`;
    }
  })
);


    spotlightRef.innerHTML = blocks.join("");
  } catch (e) {
    console.error("Error fetching YouTube videos:", e);
    spotlightRef.innerHTML = `<p style="color:red; text-align:center;">‚ùå Could not load personalized videos.</p>`;
  }
  

}


onAuthStateChanged(auth, (user) => {
  if (user) {
    rotateYouTubeVideosForUser(user.uid); // üîÅ Personalized per user
    setInterval(() => rotateYouTubeVideosForUser(user.uid), 86400000); // ‚è±Ô∏è Every 24 hours
  } else {
    spotlightRef.innerHTML = `<p style="color:red; text-align:center;">‚ùå Please log in to see personalized videos.</p>`;
  }
  if (!user) {
  showAuthNotice(); // üîî shows the styled message box
  setTimeout(hideAuthNotice, 10000);
}

});
</script>

<script type="module">
  import {
    collection,
    addDoc,
    serverTimestamp
  } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

  window.submitGameReview = async () => {
    const title = document.getElementById("reviewGame").value.trim();
    const content = document.getElementById("reviewText").value.trim();
    const user = window.auth.currentUser;

    if (!user || !title || !content) {
      alert("You must be signed in and fill out both fields.");
      return;
    }

    try {
      await addDoc(collection(window.db, "game_reviews"), {
        title,
        review: content,
        userId: user.uid,
        username: user.email,
        timestamp: serverTimestamp()
      });
      alert("‚úÖ Review submitted successfully!");
      document.getElementById("reviewGame").value = "";
      document.getElementById("reviewText").value = "";
    } catch (err) {
      console.error("‚ùå Error submitting review:", err);
      alert("Something went wrong while saving your review.");
    }
  };
</script>

  <div id="authNotice" style="
  display: none;
  position: fixed;
  top: 12%;
  left: 50%;
  transform: translateX(-50%);
  background-color: #ffffff;
  color: #e60023;
  border: 2px solid #e60023;
  padding: 1.25rem 1.5rem;
  border-radius: 12px;
  z-index: 9999;
  font-family: 'Montserrat', sans-serif;
  font-size: 0.95rem;
  max-width: 360px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
  text-align: center;
  line-height: 1.6;
">
  <div style="color: #000000; font-weight: bold; margin-bottom: 0.75rem; font-size: 1rem;">
    Signed out:
  </div>
  <div style="margin-bottom: 1rem;">
    Access limited ‚Äî sign in or create your GSU account to get the full GSU experience.
  </div>
  <button onclick="hideAuthNotice()" style="background-color: #e60023; color: white; border: none; padding: 0.5rem 1rem; border-radius: 8px; font-family: 'Montserrat'; cursor: pointer;">
    Close
  </button>
</div>
<script>
  // Auth Notice function
  function showAuthNotice() {
  const box = document.getElementById("authNotice");
  const overlay = document.getElementById("authOverlay");
  if (box) box.style.display = "block";
  if (overlay) overlay.style.display = "block";
}

function hideAuthNotice() {
  const box = document.getElementById("authNotice");
  const overlay = document.getElementById("authOverlay");
  if (box) box.style.display = "none";
  if (overlay) overlay.style.display = "none";
}

</script>
<div id="authOverlay" style="
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* Dark transparent */
  z-index: 9998;
"></div>
  
<script type="module">
  import './firebase-init.js';
  import './profile-loader.js';
</script>

<script type="module">
  import { collection, getDocs, getFirestore, Timestamp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBA7aIUj919ub7QtkQkAp-xv4XC0tzmSCI",
    authDomain: "gamesync-union.firebaseapp.com",
    projectId: "gamesync-union",
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function loadGSUStats() {
    const oneWeekAgo = new Date();
    oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);

    const [usersSnap, videosSnap, fanArtSnap, trophiesSnap, combosSnap, pollsSnap] = await Promise.all([
      getDocs(collection(db, "users")),
      getDocs(collection(db, "videos")),
      getDocs(collection(db, "fan_art")),
      getDocs(collection(db, "trophies")),
      getDocs(collection(db, "combos")),
      getDocs(collection(db, "polls")),
    ]);

    // Total Members
    const totalMembers = usersSnap.size;

    // New Members This Week
    let newMembers = 0;
    usersSnap.forEach(doc => {
      const created = doc.data().createdAt;
      if (created?.toDate && created.toDate() >= oneWeekAgo) newMembers++;
    });

    // Set all counts in DOM
    document.getElementById("totalMembers").textContent = totalMembers.toLocaleString();
    document.getElementById("newMembers").textContent = newMembers.toLocaleString();
    document.getElementById("videoUploads").textContent = videosSnap.size.toLocaleString();
    document.getElementById("fanArt").textContent = fanArtSnap.size.toLocaleString();
    document.getElementById("trophies").textContent = trophiesSnap.size.toLocaleString();
    document.getElementById("combos").textContent = combosSnap.size.toLocaleString();
    document.getElementById("pollVotes").textContent = pollsSnap.size.toLocaleString();
  }

  // Run it on load
  loadGSUStats();
</script>

</body>

</html>
